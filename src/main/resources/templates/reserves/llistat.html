<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" th:href="@{/css/llistatReservas.css}" />

    <title>Reserves</title>
</head>
<body>

  <header class="navbar">
    <div class="logo">
      <a th:href="@{/client/home}">Yubaba</a>
    </div>
    <nav class="nav-links" id="nav-links">
      <a th:href="@{/}">Inici</a>
      <a th:href="@{/client/hotels}">Hotels</a>
      <a th:href="@{/client/reserves/llistat}">Reserves</a>
      <a th:href="@{/client/MostrarClient}">Perfil</a>
      <form th:action="@{/logout}" method="POST" class="logout-form">
        <button type="submit" class="logout">Sortir</button>
      </form>
    </nav>
    <div class="input-group">
      <a th:href="@{/login}"><i class="fa-solid fa-user"></i></a>
    </div>
    <div class="menu-icon" id="menu-toggle">&#9776;</div>
  </header>

<table> 

    <thead> 

        <tr>
            <td>Data Reserva</td>
            <td>Data d'inici</td>
            <td>Data Fi</td>
            <td>Tipus de reserva</td>
            <td>Descripció</td>
            <td>Preu Total de la reserva</td>
        </tr>

    </thead>
    <tr th:each ="reserva : ${reserves}"> 

        <td th:text = "${reserva.data_reserva}"></td>
        <td th:text = "${reserva.data_inici}"></td>
        <td th:text = "${reserva.data_fi}"></td>
        <td th:text = "${reserva.tipus_reserva}"></td>
        <td th:text = "${reserva.habitacio.numero + ' - ' + reserva.habitacio.descripcio}"></td>
        <td th:text = "${reserva.preu_total_reserva} + ' €'"></td>
        <td>
          <form th:action="@{/reserves/eliminar/{id}(id=${reserva.id})}" method="post">
            <button type="submit">Cancelar</button>
        </form>
        <td>
          <a th:href="@{/reserves/factura/{id}(id=${reserva.id})}"><button>Factura</button>
        </a>
       </td>

       <td>
        <a th:href="@{/client/valoracion/{id}(id=${reserva.id})}"><button>Valoracions</button>
      </a>
     </td>



        </td>
    </tr>

</table>

<div th:if="${errorReserva}" class="alert alert-danger" th:text="${errorReserva}"></div>
<div th:if="${successReserva}" class="alert alert-success" th:text="${successReserva}"></div>

    
</body>
</html>